{% extends "base.html" %}
{% load static %}

{% block title %}SudaPlay - Tu Arena de Juegos{% endblock %}

{% block content %}
<div class="container" style="max-width: 1200px; flex-direction: column; align-items: flex-start; justify-content: flex-start;">
    <div class="welcome-header" style="margin-bottom: 40px; text-align: left; width: 100%;">
        <h1 style="font-size: 3rem; margin-bottom: 10px; color: #fff; text-shadow: 0 0 20px var(--neon-green);">
            {% if user.is_authenticated %}
            Hola, {{ user.username }}!
            {% else %}
            Hola, jugador!
            {% endif %}
        </h1>
        <p style="color: var(--neon-green); font-size: 1.2rem; letter-spacing: 1px; text-transform: uppercase;">
            Estamos listos para la partida.
        </p>
    </div>

    {% if messages %}
    <div style="width: 100%; margin-bottom: 20px;">
        {% for message in messages %}
        <div style="padding: 10px 14px; border-radius: 8px; border: 1px solid rgba(70, 123, 121, 0.4); background: rgba(70, 123, 121, 0.1); color: #fff; margin-bottom: 8px;">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <div class="game-grid">
        {% for game in games %}
        <div class="game-item" data-detail-url="{% url 'web:game_detail' game.pk %}" role="link" tabindex="0" aria-label="Ver detalles de {{ game.title }}">
            {% if game.is_featured %}
            <div style="position: absolute; top: 10px; right: 10px; z-index: 2;">
                <span class="badge badge-hot">Destacado</span>
            </div>
            {% endif %}

            <img src="{{ game.cover_image.url }}" alt="{{ game.title }}" class="game-img">

            <div class="game-info">
                <div class="game-title">{{ game.title }}</div>
                <div style="font-size: 0.75rem; color: #bbb; margin-bottom: 8px;">
                    {{ game.short_description|truncatechars:75 }}
                </div>
                <div class="game-stats">
                    <span><i class="fa fa-download"></i> {{ game.downloads }} Descargas</span>
                    <span><i class="fa fa-star" style="color: gold;"></i> {{ game.rating }}</span>
                </div>

                <a href="{% url 'web:game_detail' game.pk %}" class="navbar-link" style="display: inline-block; margin-top: 10px; font-size: 0.75rem; padding: 6px 10px;">Ver detalles</a>
            </div>
        </div>
        {% empty %}
        <div class="login-card" style="max-width: 100%; width: 100%;">
            <h2 style="margin-bottom: 8px;">Aun no hay juegos publicados</h2>
            <p style="color: #bbb;">Todavía no hay juegos disponibles en el catálogo.</p>
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
